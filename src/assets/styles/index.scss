/* =============================================================================
 * =VaiKai - Index stylesheet
 * ========================================================================== */

@import "shift/breakpoint";
@import "tools/layout";
@import "config/breakpoints";

/* =Intro
 * ========================================================================== */

// =settings
// -----------------------------------------------------------------------------

$avk-duo-height: 500px;
$avk-duo-height-sm: 600px;
$avk-duo-height-m: 740px;

$avk-dimensions-trunc: 289px 549px;
$avk-dimensions-base: 289px 198px;
$avk-dimensions-natural: 207px 504px;
$avakai-base-overlap-height: 42px;

$avk-preorder-height: 380px;
$avk-preorder-height-sm: 620px;
$avk-dimensions-duo: 820px 640px;

/* =avk-<image>
 * -------------------------------------------------------------------------- */

.avk-trunc,
.avk-base,
.avk-natural {
  // fix ratio when 'img' get's wrappped inside a 'picture' element
  // by responsive images' polyfill
  // - 'img' should be positioned absolutely, not 'picture'
  > picture { position: static; }
  > picture > img { @include cover; }
}

.avk-trunc { @include aspect-ratio($avk-dimensions-trunc); }
.avk-base { @include aspect-ratio($avk-dimensions-base); }
.avk-natural { @include aspect-ratio($avk-dimensions-natural); }

/* make trunc and base overlap */
.avk-trunc {
  $trunc-width: nth($avk-dimensions-trunc, 1);
  $trunc-offset: percentage($avakai-base-overlap-height/$trunc-width);
  margin-bottom: -1 * $trunc-offset;
}

/* display trunc in front of base */
.avk-trunc { z-index: 2; }
.avk-base { z-index: 1; }

/* =Intro
 * ========================================================================== */

/* =avk-duo
 * -------------------------------------------------------------------------- */

.avk-duo {
  position: relative;
  height: $avk-duo-height;

  @include shift('>sm') {
    height: $avk-duo-height-sm;
  }

  @include shift('>m') {
   height: $avk-duo-height-m;
  }
}

.avk-duo-lead {
  position: absolute;
  z-index: 2; /* in front of 'avk-duo-lead' */
  right: 5%;
  bottom: -30px;
  width: 125%;
  max-width: 190px;
}

.avk-duo-follow {
  position: absolute;
  z-index: 1; /* behind 'avk-duo-lead' */

  /* show only on larger screens */
  visibility: hidden;
}

@include shift('>sm')
{
  .avk-duo-lead {
    bottom: -50px;
    right: 35%;
    width: 240px;
    max-width: none;
  }

  .avk-duo-follow {
    right: 0;
    bottom: -30px;
    width: 180px;

    /* gets on stage! */
    visibility: visible;
  }
}

@include shift('>m')
{
  .avk-duo-lead {
    right: 45%;
    width: 290px;
  }

  .avk-duo-follow {
    right: 5%;
    width: 210px;
  }
}

/* =Pre-order
 * ========================================================================== */

/* =avk-limiteded
 * -------------------------------------------------------------------------- */

.avk-limiteded {
  position: relative;
}

.stamp--limiteded {
  top: 50%;
  left: 0;
  width: convert-length(120px, 'em');
  margin-left: convert-length(-40px, 'em');
}

@include shift('>l')
{
  .stamp--limiteded {
    width: convert-length(178px, 'em');
    margin-left: convert-length(-110px, 'em');
  }
}

/* =Makers
 * ========================================================================== */

.avk-makers {
  position: relative;
  padding-top: convert-length(55px, 'em');
}

/* =stamp-imaginedby
 * -------------------------------------------------------------------------- */

.stamp--imaginedby {
  top: 0;
  left: 50%;
  margin-top: convert-length(-35px, 'em');
  margin-left: convert-length(-140px, 'em');
  transform: rotate(10deg);
}

@include shift('>sm')
{
  .avk-markers {
    padding-top: convert-length(30px, 'em');
  }

  .stamp--imaginedby {
    margin-top: convert-length(-10px, 'em');
    margin-left: convert-length(-280px, 'em');
    transform: rotate(0deg);
  }
}
